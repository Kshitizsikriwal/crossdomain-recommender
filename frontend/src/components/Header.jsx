import React from 'react';
import { useNavigate } from 'react-router-dom';


const Header = () => {
  const navigate = useNavigate();

  // Retrieve user info from localStorage
  const username = localStorage.getItem('username') || 'Guest';
  const gender = (localStorage.getItem('gender') || '').toLowerCase(); // always lowercase
  const femalePic = `data:image/jpeg;base64,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`
  const malePic = `https://m.media-amazon.com/images/I/41jLBhDISxL.jpg`;
  const profilePic = gender === 'male' ? malePic : femalePic;


  const handleLogout = () => {
    localStorage.clear();
    navigate('/'); // redirect to home or login page
  };

  return (
    <header className="sticky top-0 z-50 w-full bg-white shadow-md px-16 py-6 flex items-center justify-between">
      {/* Website Logo/Name */}
      <div
        className="text-xl font-bold cursor-pointer "
        onClick={() => navigate('/home')}
      >
        ðŸŒ¿ HealthWise
      </div>

      {/* User Info + Logout */}
      <div className="flex items-center space-x-3">
        <img
          // src={profilePic || defaultPic}
          src={profilePic} alt="Profile" 
          className="w-11 h-11 rounded-full border-2 border-gray-300"
        />
        <span className="font-medium">Hi, {username}!</span>
        <button
          onClick={handleLogout}
          className="text-l text-white bg-red-500 hover:bg-red-600 px-3 py-2 rounded-md transition duration-200"
        >
          Logout
        </button>
      </div>
    </header>
  );
};

export default Header;
